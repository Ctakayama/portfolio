<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="description" content="native dialogs" />
        <meta name="keywords" content="HTML, CSS, JavaScript" />
        <meta name="author" content="Cole Takayama" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
        <title>CRUD Blog</title>
        <script type="text/javascript" src="./js/purify.min.js"></script>
        <link rel="stylesheet" href="./styles/main.css">
        <link rel="stylesheet" href="./styles/styledcrud.css">
        
    </head>
    <body >
        <header>
            <nav class = "navbar">
                <!-- hamburger  -->
                <input type="checkbox">
                <span></span>
                <span></span>
                <span></span>
                <div id = "menu">
                    <a href="index.html"><b>Cole Takayama</b></a>
                    <a href="hobbies.html">hobbies</a>
                    <a href="projects.html">projects</a>
                    <a href="contact.html">contact</a>
                </div>

            </nav>
        </header>
        
        <section id = "blogNav">
            <p id = "welcomeLogin">&#8203;</p>
            <button id = "login" class = "round-btn" onclick="showLogin(); cancel(); resetForm();"style="display:inline;">login</button>
            <button id = "signOut" class = "round-btn" onclick="signOut(); cancel(); resetForm();" style="display:none;">Sign Out</button>
            <button id = "addBlog" class = "round-btn" onclick="cancel(); resetForm();"style="display:none;">Add Blog Post</button>
        </section>
        
        
            <table>
                <tr>
                    <td class = "outer-table">
                        <table class = "list" id="blogList">
                            <thead>
                                <tr>
                                    <th>Title</th>
                                    <th>Last Updated</th>
                                    <th>Latest Author</th>
                                    <th>Content</th>
                                    <th id = "adminCol">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </td>
                </tr>
            </table>
        
        <section id = "blogContainer"></section>

        <dialog id = blogEntry>
                <form onsubmit = "event.preventDefault(); crudSubmit()">
                    <div class = "input-title">
                        <label>Post Title</label>
                        <input type="text" name ="postTitle" id="postTitle">
                    </div>
                    
                    <!-- <div class = "input-date">
                        <label>Post Date</label>
                        <input type="date" name ="postDate" id="postDate">
                    </div> -->

                    <div class = "input-summary">
                        <label>Post Content</label>
                        <input type="text" name ="postSummary" id="postSummary">
                    </div>
                    <div>
                        <button type = "button"  onclick="document.getElementById('blogEntry').close(); resetForm(); cancel();">cancel</button>
                        <button type = "submit" >Submit</button>
                    </div>
                </form>
        </dialog>

        <dialog id = "blogDelete" class = "right" style = "text-align: right;">
            Delete Blog? <br><br> 
                <button id = "delCancel" onclick="this.parentElement.close();">cancel</button>
                <button id = "delConfirm" onclick="deleteEntry(mytd); this.parentElement.close();">Ok</button>
        </dialog>

        <dialog id = "alertDialog" class = "center" style = "text-align: center;">
            Missing either Title, or Summary <br><br> 
            
            <button onclick="document.getElementById('alertDialog').close()">Ok</button>
        </dialog>

        <dialog id = loginDialog>
            <form onsubmit = "event.preventDefault(); signin()">
                <div class = "input-title">
                    <label>Email</label>
                    <input type="text" name ="loginEmail" id="loginEmail">
                </div>

                <div class = "input-summary">
                    <label>Password</label>
                    <input type="password" name ="loginPassword" id="loginPassword">
                </div>
                <div>
                    <button type = "reset"  onclick="document.getElementById('loginDialog').close(); resetForm(); cancel();">cancel</button>
                    <button type = "submit" >Submit</button>
                </div>
            </form>
        </dialog>

        <dialog id = "loginFailDialog" class = "center" style = "text-align: center;">
            Incorrect Email or Password <br><br> 
            <button onclick="document.getElementById('loginFailDialog').close()">Ok</button>
        </dialog>

        <dialog id = "loginErrorDialog" class = "center" style = "text-align: center;">
            Error: You Do Not Have Access to This<br><br> 
            <button onclick="document.getElementById('loginErrorDialog').close()">Ok</button>
        </dialog>
        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-firestore.js"></script>
        <!-- TODO: Add SDKs for Firebase products that you want to use
            https://firebase.google.com/docs/web/setup#available-libraries -->
        <script type="text/javascript" src="./js/firebase.js"></script>
        <script type="text/javascript" src="./js/blog.js"></script>
        <script type="text/javascript" src="./js/blogDialog.js"></script>



    </body>
</html>